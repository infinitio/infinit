#!/usr/bin/env python2.7
# -*- encoding: utf-8 -*-

"""
trophonius-server provide a message queue to infinit clients.

Trophonius (the Latinate spelling) or Trophonios (the transliterated Greek
spelling of Τροφώνιος) was a Greek hero or daimon or god—it was never certain
which one—with a rich mythological tradition and an oracular cult at Lebadaea
in Boeotia.

"""

import sys, os
import argparse
sys.path.insert(0, os.path.join(os.path.dirname(__file__), "../lib/python"))
import meta.conf
parser = argparse.ArgumentParser(description="Trophonius launcher")

parser.add_argument(
    '--port', type = int, default = meta.conf.TROPHONIUS_PORT
)

parser.add_argument(
    '--host',
    default = meta.conf.TROPHONIUS_HOST
)

parser.add_argument(
    '--control-port',
    type = int,
    default = meta.conf.TROPHONIUS_CONTROL_PORT
)

if __name__ == '__main__':
    args = parser.parse_args()
    from trophonius.application import Application
    application = Application(
        ip = args.host,
        port = args.port,
        ssl_port = args.control_port,
    )
    application.run()
